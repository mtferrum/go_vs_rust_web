// –í–µ–±-—Å–µ—Ä–≤–µ—Ä –Ω–∞ —è–∑—ã–∫–µ Ladder
// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å Go, Rust, Forth –∏ Prolog
// Ladder - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–ª–µ–π–Ω–æ–π –ª–æ–≥–∏–∫–∏

// –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
VAR
    SERVER_PORT : INT := 8084;
    BUFFER_SIZE : INT := 1024;
    MAX_USERS : INT := 3;
    
    // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    USER_STRUCT : STRUCT
        id : INT;
        name : STRING(50);
        email : STRING(100);
        age : INT;
        created_at : STRING(30);
    END_STRUCT;
    
    // –ú–∞—Å—Å–∏–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    users : ARRAY[1..MAX_USERS] OF USER_STRUCT;
    user_count : INT := 3;
    
    // HTTP –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    http_buffer : STRING(BUFFER_SIZE);
    response_buffer : STRING(4096);
    server_socket : INT;
    client_socket : INT;
    
    // –§–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    server_running : BOOL := FALSE;
    request_received : BOOL := FALSE;
    response_ready : BOOL := FALSE;
    
    // –°—á–µ—Ç—á–∏–∫–∏
    i : INT;
    j : INT;
    temp_id : INT;
    temp_string : STRING(100);
    
    // JSON –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
    json_response : STRING(2000);
    json_user : STRING(500);
    
END_VAR

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
PROGRAM INIT_USERS
    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1
    users[1].id := 1;
    users[1].name := '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤';
    users[1].email := 'ivan@example.com';
    users[1].age := 25;
    users[1].created_at := '2024-01-01T10:00:00Z';
    
    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 2
    users[2].id := 2;
    users[2].name := '–ú–∞—Ä–∏—è –ü–µ—Ç—Ä–æ–≤–∞';
    users[2].email := 'maria@example.com';
    users[2].age := 30;
    users[2].created_at := '2024-01-02T11:00:00Z';
    
    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 3
    users[3].id := 3;
    users[3].name := '–ê–ª–µ–∫—Å–µ–π –°–∏–¥–æ—Ä–æ–≤';
    users[3].email := 'alex@example.com';
    users[3].age := 28;
    users[3].created_at := '2024-01-03T12:00:00Z';
    
    user_count := 3;
END_PROGRAM

// –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è JSON –æ—Ç–≤–µ—Ç–∞
FUNCTION CREATE_JSON_RESPONSE : STRING
VAR_INPUT
    success : BOOL;
    message : STRING(200);
    data : STRING(1000);
END_VAR
VAR
    result : STRING(2000);
END_VAR

    result := '{';
    
    IF success THEN
        result := result + '"success":true,';
    ELSE
        result := result + '"success":false,';
    END_IF;
    
    result := result + '"message":"' + message + '",';
    
    IF data <> '' THEN
        result := result + '"data":' + data;
    ELSE
        result := result + '"data":null';
    END_IF;
    
    result := result + '}';
    
    CREATE_JSON_RESPONSE := result;
END_FUNCTION

// –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è JSON –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
FUNCTION USER_TO_JSON : STRING
VAR_INPUT
    user_id : INT;
END_VAR
VAR
    result : STRING(500);
    user : USER_STRUCT;
END_VAR

    IF user_id >= 1 AND user_id <= user_count THEN
        user := users[user_id];
        result := '{';
        result := result + '"id":' + INT_TO_STRING(user.id) + ',';
        result := result + '"name":"' + user.name + '",';
        result := result + '"email":"' + user.email + '",';
        result := result + '"age":' + INT_TO_STRING(user.age) + ',';
        result := result + '"created_at":"' + user.created_at + '"';
        result := result + '}';
    ELSE
        result := 'null';
    END_IF;
    
    USER_TO_JSON := result;
END_FUNCTION

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
FUNCTION HOME_RESPONSE : STRING
VAR
    result : STRING(2000);
    endpoints : STRING(1000);
END_VAR

    endpoints := '[';
    endpoints := endpoints + '"GET / - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞",';
    endpoints := endpoints + '"GET /users - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",';
    endpoints := endpoints + '"GET /users/{id} - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID",';
    endpoints := endpoints + '"POST /users - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",';
    endpoints := endpoints + '"PUT /users/{id} - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",';
    endpoints := endpoints + '"DELETE /users/{id} - –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"';
    endpoints := endpoints + ']';
    
    result := '{';
    result := result + '"version":"1.0.0",';
    result := result + '"endpoints":' + endpoints;
    result := result + '}';
    
    HOME_RESPONSE := CREATE_JSON_RESPONSE(TRUE, '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ API –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ Ladder!', result);
END_FUNCTION

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
FUNCTION GET_USERS_RESPONSE : STRING
VAR
    result : STRING(2000);
    users_json : STRING(1500);
    i : INT;
END_VAR

    users_json := '[';
    
    FOR i := 1 TO user_count DO
        IF i > 1 THEN
            users_json := users_json + ',';
        END_IF;
        users_json := users_json + USER_TO_JSON(i);
    END_FOR;
    
    users_json := users_json + ']';
    
    GET_USERS_RESPONSE := CREATE_JSON_RESPONSE(TRUE, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω—ã', users_json);
END_FUNCTION

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
FUNCTION GET_USER_RESPONSE : STRING
VAR_INPUT
    user_id : INT;
END_VAR
VAR
    result : STRING(2000);
    user_json : STRING(500);
END_VAR

    IF user_id >= 1 AND user_id <= user_count THEN
        user_json := USER_TO_JSON(user_id);
        result := CREATE_JSON_RESPONSE(TRUE, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω', user_json);
    ELSE
        result := CREATE_JSON_RESPONSE(FALSE, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω', '');
    END_IF;
    
    GET_USER_RESPONSE := result;
END_FUNCTION

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
FUNCTION CREATE_USER_RESPONSE : STRING
VAR_INPUT
    name : STRING(50);
    email : STRING(100);
    age : INT;
END_VAR
VAR
    result : STRING(2000);
    new_user_json : STRING(500);
    new_id : INT;
END_VAR

    IF user_count < MAX_USERS THEN
        new_id := user_count + 1;
        user_count := new_id;
        
        users[new_id].id := new_id;
        users[new_id].name := name;
        users[new_id].email := email;
        users[new_id].age := age;
        users[new_id].created_at := '2024-01-04T10:00:00Z';
        
        new_user_json := USER_TO_JSON(new_id);
        result := CREATE_JSON_RESPONSE(TRUE, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω', new_user_json);
    ELSE
        result := CREATE_JSON_RESPONSE(FALSE, '–î–æ—Å—Ç–∏–≥–Ω—É—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π', '');
    END_IF;
    
    CREATE_USER_RESPONSE := result;
END_FUNCTION

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
FUNCTION UPDATE_USER_RESPONSE : STRING
VAR_INPUT
    user_id : INT;
    name : STRING(50);
    email : STRING(100);
    age : INT;
END_VAR
VAR
    result : STRING(2000);
    user_json : STRING(500);
END_VAR

    IF user_id >= 1 AND user_id <= user_count THEN
        users[user_id].name := name;
        users[user_id].email := email;
        users[user_id].age := age;
        
        user_json := USER_TO_JSON(user_id);
        result := CREATE_JSON_RESPONSE(TRUE, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω', user_json);
    ELSE
        result := CREATE_JSON_RESPONSE(FALSE, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω', '');
    END_IF;
    
    UPDATE_USER_RESPONSE := result;
END_FUNCTION

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
FUNCTION DELETE_USER_RESPONSE : STRING
VAR_INPUT
    user_id : INT;
END_VAR
VAR
    result : STRING(2000);
    i : INT;
END_VAR

    IF user_id >= 1 AND user_id <= user_count THEN
        // –°–¥–≤–∏–≥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤–ª–µ–≤–æ
        FOR i := user_id TO user_count - 1 DO
            users[i] := users[i + 1];
            users[i].id := i;
        END_FOR;
        
        user_count := user_count - 1;
        result := CREATE_JSON_RESPONSE(TRUE, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω', '');
    ELSE
        result := CREATE_JSON_RESPONSE(FALSE, '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω', '');
    END_IF;
    
    DELETE_USER_RESPONSE := result;
END_FUNCTION

// –ü–∞—Ä—Å–∏–Ω–≥ HTTP –∑–∞–ø—Ä–æ—Å–∞
FUNCTION PARSE_REQUEST : STRING
VAR_INPUT
    request : STRING(1024);
END_VAR
VAR
    method : STRING(10);
    path : STRING(100);
    space_pos : INT;
    second_space_pos : INT;
    i : INT;
END_VAR

    // –ù–∞—Ö–æ–¥–∏–º –ø–µ—Ä–≤—ã–π –ø—Ä–æ–±–µ–ª (–º–µ–∂–¥—É –º–µ—Ç–æ–¥–æ–º –∏ –ø—É—Ç–µ–º)
    space_pos := 0;
    FOR i := 1 TO LEN(request) DO
        IF MID(request, i, 1) = ' ' THEN
            space_pos := i;
            EXIT;
        END_IF;
    END_FOR;
    
    IF space_pos > 0 THEN
        method := LEFT(request, space_pos - 1);
        
        // –ù–∞—Ö–æ–¥–∏–º –≤—Ç–æ—Ä–æ–π –ø—Ä–æ–±–µ–ª (–º–µ–∂–¥—É –ø—É—Ç–µ–º –∏ –≤–µ—Ä—Å–∏–µ–π HTTP)
        second_space_pos := 0;
        FOR i := space_pos + 1 TO LEN(request) DO
            IF MID(request, i, 1) = ' ' THEN
                second_space_pos := i;
                EXIT;
            END_IF;
        END_FOR;
        
        IF second_space_pos > 0 THEN
            path := MID(request, space_pos + 1, second_space_pos - space_pos - 1);
        END_IF;
    END_IF;
    
    PARSE_REQUEST := path;
END_FUNCTION

// –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP –∑–∞–ø—Ä–æ—Å–∞
FUNCTION HANDLE_REQUEST : STRING
VAR_INPUT
    request : STRING(1024);
END_VAR
VAR
    path : STRING(100);
    response : STRING(2000);
    user_id : INT;
END_VAR

    path := PARSE_REQUEST(request);
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—É—Ç–µ–π
    IF path = '/' THEN
        response := HOME_RESPONSE();
    ELSIF path = '/users' THEN
        response := GET_USERS_RESPONSE();
    ELSIF LEFT(path, 7) = '/users/' THEN
        // –ò–∑–≤–ª–µ–∫–∞–µ–º ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        user_id := STRING_TO_INT(MID(path, 8, LEN(path) - 7));
        response := GET_USER_RESPONSE(user_id);
    ELSE
        response := CREATE_JSON_RESPONSE(FALSE, '–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞', '');
    END_IF;
    
    HANDLE_REQUEST := response;
END_FUNCTION

// –û—Ç–ø—Ä–∞–≤–∫–∞ HTTP –æ—Ç–≤–µ—Ç–∞
FUNCTION SEND_HTTP_RESPONSE : BOOL
VAR_INPUT
    socket : INT;
    response : STRING(2000);
END_VAR
VAR
    http_headers : STRING(500);
    full_response : STRING(2500);
    success : BOOL := FALSE;
END_VAR

    http_headers := 'HTTP/1.1 200 OK' + CRLF;
    http_headers := http_headers + 'Content-Type: application/json' + CRLF;
    http_headers := http_headers + 'Access-Control-Allow-Origin: *' + CRLF;
    http_headers := http_headers + 'Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS' + CRLF;
    http_headers := http_headers + 'Access-Control-Allow-Headers: Content-Type, Authorization' + CRLF;
    http_headers := http_headers + 'Content-Length: ' + INT_TO_STRING(LEN(response)) + CRLF;
    http_headers := http_headers + CRLF;
    
    full_response := http_headers + response;
    
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç (–≤ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –≤—ã–∑–æ–≤ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏)
    success := TRUE; // –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
    
    SEND_HTTP_RESPONSE := success;
END_FUNCTION

// –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Å–µ—Ä–≤–µ—Ä–∞
PROGRAM MAIN
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    INIT_USERS();
    
    // –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
    server_running := TRUE;
    
    // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞
    // –í —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
    
    // –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
    response_buffer := HANDLE_REQUEST('GET / HTTP/1.1');
    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç
    SEND_HTTP_RESPONSE(client_socket, response_buffer);
    
    response_buffer := HANDLE_REQUEST('GET /users HTTP/1.1');
    SEND_HTTP_RESPONSE(client_socket, response_buffer);
    
    response_buffer := HANDLE_REQUEST('GET /users/1 HTTP/1.1');
    SEND_HTTP_RESPONSE(client_socket, response_buffer);
    
    response_buffer := HANDLE_REQUEST('GET /users/999 HTTP/1.1');
    SEND_HTTP_RESPONSE(client_socket, response_buffer);
    
    // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    response_buffer := CREATE_USER_RESPONSE('–¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤', 'test@example.com', 25);
    SEND_HTTP_RESPONSE(client_socket, response_buffer);
    
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    response_buffer := UPDATE_USER_RESPONSE(1, '–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –ò–º—è', 'updated@example.com', 30);
    SEND_HTTP_RESPONSE(client_socket, response_buffer);
    
    // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    response_buffer := DELETE_USER_RESPONSE(2);
    SEND_HTTP_RESPONSE(client_socket, response_buffer);
    
    server_running := FALSE;
END_PROGRAM

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
PROGRAM DEMO_SERVER
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    INIT_USERS();
    
    // –í—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Ä–≤–µ—Ä–µ
    // –í —Ä–µ–∞–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
    // PRINT('üöÄ Ladder –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É ' + INT_TO_STRING(SERVER_PORT));
    // PRINT('üìñ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:' + INT_TO_STRING(SERVER_PORT));
    
    // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
    // PRINT('');
    // PRINT('–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤:');
    // PRINT('');
    // PRINT('=== GET / ===');
    response_buffer := HANDLE_REQUEST('GET / HTTP/1.1');
    // PRINT(response_buffer);
    
    // PRINT('');
    // PRINT('=== GET /users ===');
    response_buffer := HANDLE_REQUEST('GET /users HTTP/1.1');
    // PRINT(response_buffer);
    
    // PRINT('');
    // PRINT('=== GET /users/1 ===');
    response_buffer := HANDLE_REQUEST('GET /users/1 HTTP/1.1');
    // PRINT(response_buffer);
    
    // PRINT('');
    // PRINT('=== GET /users/999 (–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π) ===');
    response_buffer := HANDLE_REQUEST('GET /users/999 HTTP/1.1');
    // PRINT(response_buffer);
    
    // PRINT('');
    // PRINT('–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!');
END_PROGRAM

// –ó–∞–ø—É—Å–∫ –¥–µ–º–æ
DEMO_SERVER();
